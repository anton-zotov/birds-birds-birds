parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"D9Nj":[function(require,module,exports) {

},{}],"CMmP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bird=void 0;var t=function(){function t(t,e){void 0===e&&(e=10),this.greenValue=255,this.boid=t,this.wingSpan=e}return t.prototype.draw=function(t,e){var i=Math.atan2(this.boid.velocity.y,this.boid.velocity.x),o=this.boid.position,n=o.x,a=o.y,r=this.wingSpan+Math.sin(e/10)*this.wingSpan/4;t.save(),t.translate(n,a),t.rotate(i),t.beginPath(),t.moveTo(r,0),t.lineTo(-r/2,r/2),t.lineTo(-r/2,-r/2),t.closePath();var s="rgb(0, ".concat(this.greenValue,", 0)");t.fillStyle=s,this.greenValue=Math.max(this.greenValue-2,0),t.fill(),t.restore()},t}();exports.Bird=t;
},{}],"ixmL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Vector=void 0;var t=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.add=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.sub=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.mult=function(i){return new t(this.x*i,this.y*i)},t.prototype.div=function(i){return new t(this.x/i,this.y/i)},t.prototype.normalize=function(){var t=this.mag();return 0!==t?this.div(t):this},t.prototype.limit=function(t){return this.mag()>t?this.normalize().mult(t):this},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.dist=function(t,i){return t.sub(i).mag()},t}();exports.Vector=t;
},{}],"W7yP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Boid=void 0;var t=require("./vector"),i=function(){function i(i,o,e,r){this.seekForceMultiplier=1.5,this.position=i,this.velocity=o,this.acceleration=new t.Vector(0,0),this.maxSpeed=e,this.maxForce=r}return i.prototype.update=function(t,i){this.applyBehaviors(t);var o=this.seek(i).mult(this.seekForceMultiplier);this.applyForce(o),this.updateVelocity(),this.updatePosition(),this.resetAcceleration()},i.prototype.isOutside=function(t,i){return this.position.x<0||this.position.y<0||this.position.x>t||this.position.y>i},i.prototype.seek=function(t){return t.sub(this.position).normalize().mult(this.maxSpeed).sub(this.velocity).limit(this.maxForce)},i.prototype.applyBehaviors=function(t){var i=this.separate(t,50),o=this.align(t,50),e=this.cohesion(t,50);this.applySteerForce(i),this.applySteerForce(o),this.applySteerForce(e)},i.prototype.separate=function(i,o){var e=this,r=i.filter(function(i){return t.Vector.dist(e.position,i.position)>0&&t.Vector.dist(e.position,i.position)<o}).map(function(i){return e.position.sub(i.position).normalize().div(t.Vector.dist(e.position,i.position))});return this.getAverageVector(r)},i.prototype.align=function(i,o){var e=this,r=i.filter(function(i){return t.Vector.dist(e.position,i.position)>0&&t.Vector.dist(e.position,i.position)<o}).map(function(t){return t.velocity});return this.getAverageVector(r)},i.prototype.cohesion=function(i,o){var e=this,r=i.filter(function(i){return t.Vector.dist(e.position,i.position)>0&&t.Vector.dist(e.position,i.position)<o}).map(function(t){return t.position});return this.getAverageVector(r)},i.prototype.getAverageVector=function(i){var o=i.reduce(function(t,i){return t.add(i)},new t.Vector(0,0)),e=i.length;return e>0?o.div(e):new t.Vector(0,0)},i.prototype.applyForce=function(t){this.acceleration=this.acceleration.add(t)},i.prototype.applySteerForce=function(t){if(t.mag()>0){var i=t.normalize().mult(this.maxSpeed).sub(this.velocity).limit(this.maxForce);this.applyForce(i)}},i.prototype.updateVelocity=function(){this.velocity=this.velocity.add(this.acceleration).limit(this.maxSpeed)},i.prototype.updatePosition=function(){this.position=this.position.add(this.velocity)},i.prototype.resetAcceleration=function(){this.acceleration=new t.Vector(0,0)},i}();exports.Boid=i;
},{"./vector":"ixmL"}],"qKVu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Canvas=void 0;var e=function(){function e(e){var t,n=this;if(this.element=document.getElementById(e),this.context=null===(t=this.element)||void 0===t?void 0:t.getContext("2d"),!this.context)throw new Error("Could not get canvas context");this.updateSize(),window.addEventListener("resize",function(){return n.updateSize()})}return e.prototype.updateSize=function(){this.element.width=window.innerWidth,this.element.height=window.innerHeight},e.prototype.clear=function(){this.context.clearRect(0,0,this.element.width,this.element.height)},e}();exports.Canvas=e;
},{}],"dNJe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onBirdCountChange=exports.getCursorPosition=void 0;var e=require("./vector"),t=new e.Vector(0,0);function n(n){n instanceof TouchEvent?t=new e.Vector(n.touches[0].clientX,n.touches[0].clientY):n instanceof MouseEvent&&(t=new e.Vector(n.clientX,n.clientY))}function o(){return t}window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),exports.getCursorPosition=o;var r=document.getElementById("birdCount");function i(e){r.addEventListener("change",function(){e(parseInt(r.value))})}exports.onBirdCountChange=i;
},{"./vector":"ixmL"}],"B6dB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("./styles.css");var e,r,n=require("./bird"),t=require("./boid"),i=require("./vector"),o=require("./canvas"),a=require("./ui"),u=new o.Canvas("canvas");function c(){var e=new i.Vector(Math.random()*u.element.width,Math.random()*u.element.height),r=new i.Vector(Math.random()-.5,Math.random()-.5);return new t.Boid(e,r,2,.05)}function d(t){e=Array.from({length:t},c),r=e.map(function(e){return new n.Bird(e)})}function s(t){void 0===t&&(t=0),u.clear(),e.forEach(function(i,o){i.update(e,(0,a.getCursorPosition)()),i.isOutside(u.element.width,u.element.height)&&(e[o]=c(),r[o]=new n.Bird(e[o])),r[o].draw(u.context,t)}),requestAnimationFrame(function(){return s(t+1)})}(0,a.onBirdCountChange)(function(e){d(e)}),d(300),s();
},{"./styles.css":"D9Nj","./bird":"CMmP","./boid":"W7yP","./vector":"ixmL","./canvas":"qKVu","./ui":"dNJe"}]},{},["B6dB"], null)
//# sourceMappingURL=src.16dcd7b4.js.map